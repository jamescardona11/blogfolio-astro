---
import type { TextRichTextItemResponse } from '@notionhq/client/build/src/api-endpoints'

interface Props {
  text?: TextRichTextItemResponse[]
}

const { text } = Astro.props
---

{
  text == null || text.length === 0 ? (
    <div class='h-4' />
  ) : (
    text.map((value: any) => {
      const {
        annotations: { bold, code, color, italic, strikethrough, underline },
        text
      } = value
      return (
        <span
          class:list={[
            {
              'font-bold': bold
            },
            { italic: italic },
            {
              'bg-gray-200 font-semibold text-gray-500 text-sm px-2 rounded mx-1 inline-block align-middle tracking-tight':
                code
            },

            { 'line-through': strikethrough },
            { underline: underline }
          ]}
          style={color !== 'default' ? { color } : {}}
        >
          {text.link != null ? (
            <a
              class='text-gray-700 dark:text-zinc-400 underline'
              href={text.link.url}
            >
              {text.content}
            </a>
          ) : (
            text.content
          )}
        </span>
      )
    })
  )
}
