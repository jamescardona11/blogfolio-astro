---
import { Code } from 'astro/components'
import { getCodeLang } from '@/components/notion/code-lang'
import type { CodeBlock } from '@/lib/core/notion-core/notion-blocks'

interface Props {
  block: CodeBlock
}

const { block } = Astro.props
const lang = getCodeLang(block.lang)

const code = block.richText.content.map(c => c.text).join('')
---

<div class='prose max-w-none dark:prose-invert'>
  <Code code={code} lang={lang} />
</div>
