---
import Logo from '../../Logo.astro'
import MobileNav from '../../MobileNav.astro'
import ThemeSwitcher from '../../ThemeSwitcher.astro'
import { cn } from '@/utils/cn'

import { navItemsList } from '../nav-items'
import { SubMenuItem } from './SubMenuItem.tsx'
import { siteMetadata } from '@/data/site-metadata'
---

<header class='flex items-center justify-between py-10'>
  <div>
    <a href='/' aria-label={siteMetadata.name}>
      <div class='flex items-center justify-between'>
        <div class='mr-3'>
          <Logo />
        </div>
        {
          typeof siteMetadata.name === 'string' ? (
            <div class='hidden h-6 text-2xl font-semibold sm:block'>
              {siteMetadata.name}
            </div>
          ) : (
            siteMetadata.name
          )
        }
      </div>
    </a>
  </div>
  <div class='flex items-center space-x-4 leading-5 sm:space-x-6'>
    {
      navItemsList
        .filter(e => e.hideNavigation == null || !e.hideNavigation)
        .map(navItem => {
          if (navItem.subMenu != null) {
            return <SubMenuItem client:load navItem={navItem} />
          }

          return (
            <a
              href={navItem.href}
              class={cn(
                'flex items-center text-lg font-medium transition-colors hover:text-foreground/80 sm:text-sm',
                false ? 'text-foreground' : 'text-foreground/60'
              )}
            >
              <span class={false ? 'underline decoration-foreground' : ''}>
                {navItem.title}
              </span>
            </a>
          )
        })
    }

    <!--TODO: add theme button-->
    <!--<SearchButton />-->
    <ThemeSwitcher />

    <MobileNav />
  </div>
</header>
