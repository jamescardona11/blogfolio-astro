---
import PageLayout from '@/layouts/PageLayout.astro'
import TagPage from '@/components/tags/TagPage.astro'
import PageTitle from '@/components/PageTitle.astro'

import { getTagsWithPosts } from '@/lib/data/tags-provider'

const tags = await getTagsWithPosts()
const firstSerie = tags?.[0]
---

<PageLayout metaTitle='Tags'>
  {
    tags?.length === 0 && (
      <div class='flex justify-between'>
        <PageTitle
          title='No series found'
          subtitle='There are no series available at the moment.'
        />
      </div>
    )
  }

  {firstSerie && <TagPage tagWithPosts={firstSerie} isFirst={true} />}
</PageLayout>
