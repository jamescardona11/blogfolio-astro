---
import type { Project, ProjectFilterState } from '@/lib/types/projects'

import BaseCard from '@/components/BaseCard.astro'
import ItemProject from './ItemProject.astro'
import { filterProjects } from '@/utils/filter-projects'

interface Props {
  projects: Project[]
  filter: ProjectFilterState
}

const { projects, filter } = Astro.props

const filteredProjects = filterProjects(projects ?? [], filter)
---

<BaseCard title='Backlog' styles='mt-8'>
  <ul class='space-y-1'>
    {filteredProjects.map(project => <ItemProject project={project} />)}
  </ul>
</BaseCard>
